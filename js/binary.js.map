{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ja","webpack:///./src/javascript/_common/check_new_release.js","webpack:///./src/javascript/_common/language.js","webpack:///./src/javascript/_common/lib/plugins.js","webpack:///./src/javascript/_common/lib/polyfills/element.closest.js","webpack:///./src/javascript/_common/lib/polyfills/element.matches.js","webpack:///./src/javascript/_common/lib/polyfills/nodelist.foreach.js","webpack:///./src/javascript/_common/storage.js","webpack:///./src/javascript/_common/url.js","webpack:///./src/javascript/_common/utility.js","webpack:///./src/javascript/config.js","webpack:///./src/javascript/index.js"],"names":["moment","require","urlForStatic","getStaticHash","shouldForceReload","last_reload","valueOf","checkNewRelease","localStorage","getItem","setItem","current_hash","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","latest_hash","responseText","window","location","reload","open","Math","random","toString","slice","send","module","exports","Cookies","CookieStorage","Language","all_languages","ACH","EN","DE","ES","FR","ID","IT","PL","PT","RU","TH","VI","ZH_CN","ZH_TW","default_language","setCookieLanguage","lang","get","cookie","write","getLanguage","toUpperCase","url_lang","lang_regex","RegExp","Object","keys","join","languageFromUrl","custom_url","url_params","href","split","language","find","test","current_lang","crowdin_lang_key","crowdin_lang","replace","document","body","classList","add","urlForLanguage","url","trim","toLowerCase","getAll","setCookie","urlFor","urlLang","reset","Element","prototype","hide","style","display","show","remove","parentNode","removeChild","toggleClass","class_name","should_add","contains","setVisibility","make_visible","html","content","innerHTML","appendChild","$","fn","jQuery","closest","s","el","documentElement","matches","parentElement","nodeType","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","querySelectorAll","i","length","item","NodeList","forEach","callback","thisArg","call","getPropertyValue","isEmptyObject","isProduction","getObject","key","JSON","parse","setObject","value","stringify","Storage","isStorageSupported","storage","test_key","removeItem","e","Store","undefined","set","clear","InScriptStore","object","store","k","obj","Array","isArray","has","State","getResponse","pathname","path","concat","cookie_name","cookie_domain","hostname","initialized","domain","expires","Date","read","cookie_value","val","expireDate","isSecure","secure","removeCookies","cookie_names","domains","parent_path","c","SessionStore","LocalStore","sessionStorage","getCurrentProductionDomain","Url","location_url","static_host","params","arr_params","parsed","URL","search","substr","p_l","param","push","paramsHash","param_hash","normalizePath","pars","should_change_to_legacy","substring","indexOf","new_url","default_domain","host_map","urlForCurrentDomain","current_domain","url_object","includes","querySelector","getAttribute","websiteUrl","name","protocol","getHostMap","resetStaticHost","extend","template","string","to_replace","index","is_empty","hasOwnProperty","cloneObject","isDeepEqual","a","b","isEqualArray","isEqualObject","arr1","arr2","every","idx","obj1","obj2","unique","array","filter","findIndex","createElement","tag_name","attributes","attr","textContent","setAttribute","static_hash","PromiseClass","promise","Promise","resolve","reject","domain_app_ids","all_domains","map","binary_desktop_app_id","getAppId","app_id","user_app_id","config_app_id","is_new_app","getSocketURL","server_url","loginid","is_real","server","check_new_release"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;ACtJA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qE;;;;;;;;;;;;;;ACxBA,IAAMA,SAAgBC,mBAAOA,CAAC,+CAAR,CAAtB;AACA,IAAMC,eAAgBD,mBAAOA,CAACA,8CAAOA,EAAEC,YAAvC;AACA,IAAMC,gBAAgBF,mBAAOA,CAACA,sDAAWA,EAAEE,aAA3C;;AAEA;AACA,IAAMC,oBAAoB,SAApBA,iBAAoB;AAAA,WAAe,CAACC,WAAD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","file":"binary.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"binary\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/javascript/index.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ja\";","const moment        = require('moment');\nconst urlForStatic  = require('./url').urlForStatic;\nconst getStaticHash = require('./utility').getStaticHash;\n\n// only reload if it's more than 10 minutes since the last reload\nconst shouldForceReload = last_reload => !last_reload || +last_reload + (10 * 60 * 1000) < moment().valueOf();\n\n// calling this method is handled by GTM tags\nconst checkNewRelease = () => {\n    const last_reload = localStorage.getItem('new_release_reload_time');\n    if (!shouldForceReload(last_reload)) return false;\n    localStorage.setItem('new_release_reload_time', moment().valueOf());\n\n    const current_hash = getStaticHash();\n    const xhttp        = new XMLHttpRequest();\n\n    xhttp.onreadystatechange = () => {\n        if (+xhttp.readyState === 4 && +xhttp.status === 200) {\n            const latest_hash = xhttp.responseText;\n            if (latest_hash && current_hash && latest_hash !== current_hash) {\n                window.location.reload(true);\n            }\n        }\n    };\n    xhttp.open('GET', urlForStatic(`version?${Math.random().toString(36).slice(2)}`), true);\n    xhttp.send();\n\n    return true;\n};\n\nmodule.exports = {\n    shouldForceReload,\n    checkNewRelease,\n};\n","const Cookies       = require('js-cookie');\nconst CookieStorage = require('./storage').CookieStorage;\n\nconst Language = (() => {\n    const all_languages = {\n        ACH  : 'Translations',\n        EN   : 'English',\n        DE   : 'Deutsch',\n        ES   : 'Español',\n        FR   : 'Français',\n        ID   : 'Indonesia',\n        IT   : 'Italiano',\n        PL   : 'Polish',\n        PT   : 'Português',\n        RU   : 'Русский',\n        TH   : 'Thai',\n        VI   : 'Tiếng Việt',\n        ZH_CN: '简体中文',\n        ZH_TW: '繁體中文',\n    };\n    const default_language = 'EN';\n\n    const setCookieLanguage = (lang) => {\n        if (!Cookies.get('language') || lang) {\n            const cookie = new CookieStorage('language');\n            cookie.write((lang || getLanguage()).toUpperCase());\n        }\n    };\n\n    let url_lang = null;\n\n    const lang_regex = new RegExp(`^(${Object.keys(all_languages).join('|')})$`, 'i');\n\n    const languageFromUrl = (custom_url) => {\n        if (url_lang && !custom_url) return url_lang;\n        const url_params = (custom_url || window.location.href).split('/').slice(3);\n        const language   = (url_params.find(lang => lang_regex.test(lang)) || '');\n        if (!custom_url) {\n            url_lang = language;\n        }\n        return language;\n    };\n\n    let current_lang = null;\n\n    const getLanguage = () => {\n        if (/ach/i.test(current_lang) || /ach/i.test(languageFromUrl())) {\n            const crowdin_lang_key = 'jipt_language_code_binary-static';\n            const crowdin_lang     = localStorage.getItem(crowdin_lang_key) || Cookies.get(crowdin_lang_key); // selected language for in-context translation\n            if (crowdin_lang) {\n                current_lang = crowdin_lang.toUpperCase().replace('-', '_').toUpperCase();\n                if (document.body) {\n                    document.body.classList.add(current_lang); // set the body class removed by crowdin code\n                }\n            }\n        }\n        current_lang = (current_lang || (languageFromUrl() || Cookies.get('language') || default_language).toUpperCase());\n        return current_lang;\n    };\n\n    const urlForLanguage = (lang, url = window.location.href) =>\n        url.replace(new RegExp(`/${getLanguage()}/`, 'i'), `/${(lang || default_language).trim().toLowerCase()}/`);\n\n    return {\n        getAll   : () => all_languages,\n        setCookie: setCookieLanguage,\n        get      : getLanguage,\n        urlFor   : urlForLanguage,\n        urlLang  : languageFromUrl,\n        reset    : () => { url_lang = null; current_lang = null; },\n    };\n})();\n\nmodule.exports = Language;\n","Element.prototype.hide = function() {\n    this.style.display = 'none';\n    return this;\n};\n\nElement.prototype.show = function() {\n    this.style.display = '';\n    return this;\n};\n\nif (!('remove' in Element.prototype)) {\n    Element.prototype.remove = function() {\n        if (this.parentNode) {\n            this.parentNode.removeChild(this);\n        }\n        return this;\n    };\n}\n\nElement.prototype.toggleClass = function(class_name, should_add) {\n    if (typeof should_add === 'undefined') { // toggle\n        should_add = !this.classList.contains(class_name);\n    }\n    this.classList[should_add ? 'add' : 'remove'](class_name);\n    return this;\n};\n\nElement.prototype.setVisibility = function(make_visible) {\n    this.toggleClass('invisible', !make_visible);\n    return this;\n};\n\n\nElement.prototype.html = function(content) {\n    if (typeof content === 'object') {\n        this.innerHTML = '';\n        this.appendChild(content);\n    } else {\n        this.innerHTML = content;\n    }\n    return this;\n};\n\n(function ($) {\n    $.fn.setVisibility = function(make_visible) {\n        this[(make_visible ? 'remove' : 'add') + 'Class']('invisible');\n        return this;\n    };\n})(jQuery);\n","if (!Element.prototype.closest) {\n    Element.prototype.closest = function(s) {\n        var el = this;\n        if (!document.documentElement.contains(el)) return null;\n        do {\n            if (el.matches(s)) return el;\n            el = el.parentElement || el.parentNode;\n        } while (el !== null && el.nodeType === 1); \n        return null;\n    };\n}\n","if (!Element.prototype.matches) {\n    Element.prototype.matches =\n        Element.prototype.matchesSelector ||\n        Element.prototype.mozMatchesSelector ||\n        Element.prototype.msMatchesSelector ||\n        Element.prototype.oMatchesSelector ||\n        Element.prototype.webkitMatchesSelector ||\n        function(s) {\n            var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n                i = matches.length;\n            while (--i >= 0 && matches.item(i) !== this) {}\n            return i > -1;\n        };\n}\n","if (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = function (callback, thisArg) {\n        thisArg = thisArg || window;\n        for (var i = 0; i < this.length; i++) {\n            callback.call(thisArg, this[i], i, this);\n        }\n    };\n}\n","const Cookies          = require('js-cookie');\nconst getPropertyValue = require('./utility').getPropertyValue;\nconst isEmptyObject    = require('./utility').isEmptyObject;\nconst isProduction     = require('../config').isProduction;\n\nconst getObject = function (key) {\n    return JSON.parse(this.getItem(key) || '{}');\n};\n\nconst setObject = function (key, value) {\n    if (value && value instanceof Object) {\n        this.setItem(key, JSON.stringify(value));\n    }\n};\n\nif (typeof Storage !== 'undefined') {\n    Storage.prototype.getObject = getObject;\n    Storage.prototype.setObject = setObject;\n}\n\nconst isStorageSupported = (storage) => {\n    if (typeof storage === 'undefined') {\n        return false;\n    }\n\n    const test_key = 'test';\n    try {\n        storage.setItem(test_key, '1');\n        storage.removeItem(test_key);\n        return true;\n    } catch (e) {\n        return false;\n    }\n};\n\nconst Store = function (storage) {\n    this.storage           = storage;\n    this.storage.getObject = getObject;\n    this.storage.setObject = setObject;\n};\n\nStore.prototype = {\n    get(key) {\n        return this.storage.getItem(key) || undefined;\n    },\n    set(key, value) {\n        if (typeof value !== 'undefined') {\n            this.storage.setItem(key, value);\n        }\n    },\n    getObject(key) {\n        return typeof this.storage.getObject === 'function' // Prevent runtime error in IE\n            ? this.storage.getObject(key)\n            : JSON.parse(this.storage.getItem(key) || '{}');\n    },\n    setObject(key, value) {\n        if (typeof this.storage.setObject === 'function') { // Prevent runtime error in IE\n            this.storage.setObject(key, value);\n        } else {\n            this.storage.setItem(key, JSON.stringify(value));\n        }\n    },\n    remove(key) { this.storage.removeItem(key); },\n    clear()     { this.storage.clear(); },\n};\n\nconst InScriptStore = function (object) {\n    this.store = typeof object !== 'undefined' ? object : {};\n};\n\nInScriptStore.prototype = {\n    get(key) {\n        return getPropertyValue(this.store, key);\n    },\n    set(k, value, obj = this.store) {\n        let key = k;\n        if (!Array.isArray(key)) key = [key];\n        if (key.length > 1) {\n            if (!(key[0] in obj) || isEmptyObject(obj[key[0]])) obj[key[0]] = {};\n            this.set(key.slice(1), value, obj[key[0]]);\n        } else {\n            obj[key[0]] = value;\n        }\n    },\n    getObject(key) {\n        return JSON.parse(this.get(key) || '{}');\n    },\n    setObject(key, value) {\n        this.set(key, JSON.stringify(value));\n    },\n    remove(...keys) {\n        keys.forEach((key) => { delete this.store[key]; });\n    },\n    clear()   { this.store = {}; },\n    has(key)  { return this.get(key) !== undefined; },\n    keys()    { return Object.keys(this.store); },\n    call(key) { if (typeof this.get(key) === 'function') this.get(key)(); },\n};\n\nconst State     = new InScriptStore();\nState.prototype = InScriptStore.prototype;\n/**\n * Shorthand function to get values from response object of State\n *\n * @param {String} pathname\n *     e.g. getResponse('authorize.currency') == get(['response', 'authorize', 'authorize', 'currency'])\n */\nState.prototype.getResponse = function (pathname) {\n    let path = pathname;\n    if (typeof path === 'string') {\n        const keys = path.split('.');\n        path = ['response', keys[0]].concat(keys);\n    }\n    return this.get(path);\n};\nState.set('response', {});\n\nconst CookieStorage = function (cookie_name, cookie_domain) {\n    const hostname = window.location.hostname;\n\n    this.initialized = false;\n    this.cookie_name = cookie_name;\n    this.domain      = cookie_domain || (isProduction() ? `.${hostname.split('.').slice(-2).join('.')}` : hostname);\n    this.path        = '/';\n    this.expires     = new Date('Thu, 1 Jan 2037 12:00:00 GMT');\n    this.value       = {};\n};\n\nCookieStorage.prototype = {\n    read() {\n        const cookie_value = Cookies.get(this.cookie_name);\n        try {\n            this.value = cookie_value ? JSON.parse(cookie_value) : {};\n        } catch (e) {\n            this.value = {};\n        }\n        this.initialized = true;\n    },\n    write(val, expireDate, isSecure) {\n        if (!this.initialized) this.read();\n        this.value = val;\n        if (expireDate) this.expires = expireDate;\n        Cookies.set(this.cookie_name, this.value, {\n            expires: this.expires,\n            path   : this.path,\n            domain : this.domain,\n            secure : !!isSecure,\n        });\n    },\n    get(key) {\n        if (!this.initialized) this.read();\n        return this.value[key];\n    },\n    set(key, val) {\n        if (!this.initialized) this.read();\n        this.value[key] = val;\n        Cookies.set(this.cookie_name, this.value, {\n            expires: new Date(this.expires),\n            path   : this.path,\n            domain : this.domain,\n        });\n    },\n    remove() {\n        Cookies.remove(this.cookie_name, {\n            path  : this.path,\n            domain: this.domain,\n        });\n    },\n};\n\nconst removeCookies = (...cookie_names) => {\n    const domains = [\n        `.${document.domain.split('.').slice(-2).join('.')}`,\n        `.${document.domain}`,\n    ];\n\n    let parent_path = window.location.pathname.split('/', 2)[1];\n    if (parent_path !== '') {\n        parent_path = `/${parent_path}`;\n    }\n\n    cookie_names.forEach((c) => {\n        Cookies.remove(c, { path: '/', domain: domains[0] });\n        Cookies.remove(c, { path: '/', domain: domains[1] });\n        Cookies.remove(c);\n        if (new RegExp(c).test(document.cookie) && parent_path) {\n            Cookies.remove(c, { path: parent_path, domain: domains[0] });\n            Cookies.remove(c, { path: parent_path, domain: domains[1] });\n            Cookies.remove(c, { path: parent_path });\n        }\n    });\n};\n\nlet SessionStore,\n    LocalStore;\n\nif (isStorageSupported(window.localStorage)) {\n    LocalStore = new Store(window.localStorage);\n}\nif (isStorageSupported(window.sessionStorage)) {\n    SessionStore = new Store(window.sessionStorage);\n}\n\nif (!LocalStore) {\n    LocalStore = new InScriptStore();\n}\nif (!SessionStore) {\n    SessionStore = new InScriptStore();\n}\n\nmodule.exports = {\n    isStorageSupported,\n    CookieStorage,\n    removeCookies,\n    State,\n    SessionStore,\n    LocalStore,\n};\n","const urlForLanguage             = require('./language').urlFor;\nconst urlLang                    = require('./language').urlLang;\nconst getCurrentProductionDomain = require('../config').getCurrentProductionDomain;\nrequire('url-polyfill');\n\nconst Url = (() => {\n    let location_url,\n        static_host;\n\n    const reset = () => {\n        location_url = window ? window.location : location_url;\n    };\n\n    const params = (href) => {\n        const arr_params = [];\n        const parsed     = ((href ? new URL(href) : location_url).search || '').substr(1).split('&');\n        let p_l          = parsed.length;\n        while (p_l--) {\n            const param = parsed[p_l].split('=');\n            arr_params.push(param);\n        }\n        return arr_params;\n    };\n\n    const paramsHash = (href) => {\n        const param_hash = {};\n        const arr_params = params(href);\n        let param        = arr_params.length;\n        while (param--) {\n            if (arr_params[param][0]) {\n                param_hash[arr_params[param][0]] = arr_params[param][1] || '';\n            }\n        }\n        return param_hash;\n    };\n\n    const normalizePath = path => (path ? path.replace(/(^\\/|\\/$|[^a-zA-Z0-9-_/])/g, '') : '');\n\n    const urlFor = (path, pars, language, should_change_to_legacy = false) => {\n        const lang = (language || urlLang()).toLowerCase();\n        // url language might differ from passed language, so we will always replace using the url language\n        const url_lang = (language ? urlLang().toLowerCase() : lang);\n        const url = window.location.href;\n        let domain = url.substring(0, url.indexOf(`/${url_lang}/`) + url_lang.length + 2);\n        if (should_change_to_legacy) {\n            domain = domain.replace(/\\/app/,'');\n        }\n        const new_url = `${domain}${(normalizePath(path) || 'home')}.html${(pars ? `?${pars}` : '')}`;\n        // replace old lang with new lang\n        return urlForLanguage(lang, new_url);\n    };\n\n    const default_domain = 'binary.com';\n    const host_map = { // the exceptions regarding updating the URLs\n        'bot.binary.com'       : 'www.binary.bot',\n        'developers.binary.com': 'developers.binary.com', // same, shouldn't change\n        'academy.binary.com'   : 'academy.binary.com',\n        'tech.binary.com'      : 'tech.binary.com',\n        'blog.binary.com'      : 'blog.binary.com',\n    };\n\n    const urlForCurrentDomain = (href) => {\n        const current_domain = getCurrentProductionDomain();\n\n        if (!current_domain) {\n            return href; // don't change when domain is not supported\n        }\n\n        const url_object = new URL(href);\n        if (Object.keys(host_map).includes(url_object.hostname)) {\n            url_object.hostname = host_map[url_object.hostname];\n        } else if (url_object.hostname.indexOf(default_domain) !== -1) {\n            // to keep all non-Binary links unchanged, we use default domain for all Binary links in the codebase (javascript and templates)\n            url_object.hostname = url_object.hostname.replace(new RegExp(`\\\\.${default_domain}`, 'i'), `.${current_domain}`);\n        } else {\n            return href;\n        }\n\n        return url_object.href;\n    };\n\n    const urlForStatic = (path = '') => {\n        if (!static_host || static_host.length === 0) {\n            static_host = document.querySelector('script[src*=\"vendor.min.js\"]');\n            if (static_host) {\n                static_host = static_host.getAttribute('src');\n            }\n\n            if (static_host && static_host.length > 0) {\n                static_host = static_host.substr(0, static_host.indexOf('/js/') + 1);\n            } else {\n                static_host = Url.websiteUrl();\n            }\n        }\n\n        return static_host + path.replace(/(^\\/)/g, '');\n    };\n\n    return {\n        reset,\n        paramsHash,\n        urlFor,\n        urlForCurrentDomain,\n        urlForStatic,\n\n        param          : name => paramsHash()[name],\n        websiteUrl     : () => `${location.protocol}//${location.hostname}/`,\n        getHostMap     : () => host_map,\n        resetStaticHost: () => { static_host = undefined; },\n    };\n})();\n\nmodule.exports = Url;\n","const extend = require('extend');\nrequire('./lib/polyfills/element.matches');\n\nconst template = (string, content) => {\n    let to_replace = content;\n    if (content && !Array.isArray(content)) {\n        to_replace = [content];\n    }\n    return string.replace(/\\[_(\\d+)]/g, (s, index) => to_replace[(+index) - 1]);\n};\n\nconst isEmptyObject = (obj) => {\n    let is_empty = true;\n    if (obj && obj instanceof Object) {\n        Object.keys(obj).forEach((key) => {\n            if (Object.prototype.hasOwnProperty.call(obj, key)) is_empty = false;\n        });\n    }\n    return is_empty;\n};\n\nconst cloneObject = obj => (!isEmptyObject(obj) ? extend(true, Array.isArray(obj) ? [] : {}, obj) : obj);\n\nconst isDeepEqual = (a, b) => {\n    if (typeof a !== typeof b) {\n        return false;\n    } else if (Array.isArray(a)) {\n        return isEqualArray(a, b);\n    } else if (a && b && typeof a === 'object') {\n        return isEqualObject(a, b);\n    }\n    // else\n    return a === b;\n};\n\nconst isEqualArray = (arr1, arr2) => (\n    arr1 === arr2 ||\n    (\n        arr1.length === arr2.length &&\n        arr1.every((value, idx) => isDeepEqual(value, arr2[idx]))\n    )\n);\n\nconst isEqualObject = (obj1, obj2) => (\n    obj1 === obj2 ||\n    (\n        Object.keys(obj1).length === Object.keys(obj2).length &&\n        Object.keys(obj1).every(key => isDeepEqual(obj1[key], obj2[key]))\n    )\n);\n\n// Filters out duplicates in an array of objects by key\nconst unique = (array, key) => array.filter((e, idx) =>\n    array.findIndex((a, i) => a[key] ? a[key] === e[key] : i === idx) === idx);\n\nconst getPropertyValue = (obj, k) => {\n    let keys = k;\n    if (!Array.isArray(keys)) keys = [keys];\n    if (!isEmptyObject(obj) && keys[0] in obj && keys && keys.length > 1) {\n        return getPropertyValue(obj[keys[0]], keys.slice(1));\n    }\n    // else return clone of object to avoid overwriting data\n    return obj ? cloneObject(obj[keys[0]]) : undefined;\n};\n\n/**\n * Creates a DOM element and adds any attributes to it.\n *\n * @param {String} tag_name: the tag to create, e.g. 'div', 'a', etc\n * @param {Object} attributes: all the attributes to assign, e.g. { id: '...', class: '...', html: '...', ... }\n * @return the created DOM element\n */\nconst createElement = (tag_name, attributes = {}) => {\n    const el = document.createElement(tag_name);\n    Object.keys(attributes).forEach((attr) => {\n        const value = attributes[attr];\n        if (attr === 'text') {\n            el.textContent = value;\n        } else if (attr === 'html') {\n            el.html(value);\n        } else {\n            el.setAttribute(attr, value);\n        }\n    });\n    return el;\n};\n\nlet static_hash;\nconst getStaticHash = () => {\n    static_hash = static_hash || (document.querySelector('script[src*=\"binary\"]').getAttribute('src') || '').split('?')[1];\n    return static_hash;\n};\n\nclass PromiseClass {\n    constructor() {\n        this.promise = new Promise((resolve, reject) => {\n            this.reject  = reject;\n            this.resolve = resolve;\n        });\n    }\n}\n\nmodule.exports = {\n    template,\n    isEmptyObject,\n    cloneObject,\n    isDeepEqual,\n    unique,\n    getPropertyValue,\n    createElement,\n    getStaticHash,\n    PromiseClass,\n};\n","// const Cookies = require('js-cookie');\n\n/*\n * Configuration values needed in js codes\n *\n * NOTE:\n * Please use the following command to avoid accidentally committing personal changes\n * git update-index --assume-unchanged src/javascript/config.js\n *\n */\nconst domain_app_ids = { // these domains as supported \"production domains\"\n    'deriv.com': 16929,\n};\n\nconst getCurrentProductionDomain = () =>\n    Object.keys(domain_app_ids).find(domain => new RegExp(`.${domain}$`, 'i').test(window.location.hostname));\n\nconst isProduction = () => {\n    const all_domains = Object.keys(domain_app_ids).map(domain => `www\\\\.${domain.replace('.', '\\\\.')}`);\n    return new RegExp(`^(${all_domains.join('|')})$`, 'i').test(window.location.hostname);\n};\n\nconst binary_desktop_app_id = 14473;\n\nconst getAppId = () => {\n    let app_id = null;\n    const user_app_id   = ''; // you can insert Application ID of your registered application here\n    const config_app_id = window.localStorage.getItem('config.app_id');\n    const is_new_app    = /\\/app\\//.test(window.location.pathname);\n    if (config_app_id) {\n        app_id = config_app_id;\n    } else if (/desktop-app/i.test(window.location.href) || window.localStorage.getItem('config.is_desktop_app')) {\n        window.localStorage.removeItem('config.default_app_id');\n        window.localStorage.setItem('config.is_desktop_app', 1);\n        app_id = binary_desktop_app_id;\n    } else if (/staging\\.binary\\.com/i.test(window.location.hostname)) {\n        window.localStorage.removeItem('config.default_app_id');\n        app_id = is_new_app ? 16303 : 1098;\n    } else if (user_app_id.length) {\n        window.localStorage.setItem('config.default_app_id', user_app_id); // it's being used in endpoint chrome extension - please do not remove\n        app_id = user_app_id;\n    } else if (/localhost/i.test(window.location.hostname)) {\n        app_id = 1159;\n    } else {\n        window.localStorage.removeItem('config.default_app_id');\n        const current_domain = getCurrentProductionDomain();\n        // TODO: remove is_new_app && deriv.com check when repos are split\n        app_id = (is_new_app && current_domain !== 'deriv.com') ? 15265 : (domain_app_ids[current_domain] || 1);\n    }\n    return app_id;\n};\n\nconst getSocketURL = () => {\n    let server_url = window.localStorage.getItem('config.server_url');\n    if (!server_url) {\n        // const to_green_percent = { real: 100, virtual: 0, logged_out: 0 }; // default percentage\n        // const category_map     = ['real', 'virtual', 'logged_out'];\n        // const percent_values   = Cookies.get('connection_setup'); // set by GTM\n        //\n        // // override defaults by cookie values\n        // if (percent_values && percent_values.indexOf(',') > 0) {\n        //     const cookie_percents = percent_values.split(',');\n        //     category_map.map((cat, idx) => {\n        //         if (cookie_percents[idx] && !isNaN(cookie_percents[idx])) {\n        //             to_green_percent[cat] = +cookie_percents[idx].trim();\n        //         }\n        //     });\n        // }\n\n        // let server = 'blue';\n        // if (/www\\.binary\\.com/i.test(window.location.hostname)) {\n        //     const loginid = window.localStorage.getItem('active_loginid');\n        //     let client_type = category_map[2];\n        //     if (loginid) {\n        //         client_type = /^VRT/.test(loginid) ? category_map[1] : category_map[0];\n        //     }\n        //\n        //     const random_percent = Math.random() * 100;\n        //     if (random_percent < to_green_percent[client_type]) {\n        //         server = 'green';\n        //     }\n        // }\n\n        // TODO: in order to use connection_setup config, uncomment the above section and remove next lines\n\n        const loginid       = window.localStorage.getItem('active_loginid');\n        const is_real       = loginid && !/^VRT/.test(loginid);\n        const server        = isProduction() && is_real ? 'green' : 'blue';\n\n        server_url = `${server}.binaryws.com`;\n    }\n    return `wss://${server_url}/websockets/v3`;\n};\n\nmodule.exports = {\n    getCurrentProductionDomain,\n    isProduction,\n    getAppId,\n    getSocketURL,\n};\n","window.$ = window.jQuery = require('jquery');\n\nrequire('babel-polyfill');\nrequire('promise-polyfill');\nrequire('./_common/lib/polyfills/nodelist.foreach');\nrequire('./_common/lib/polyfills/element.closest');\n\n// used by gtm to update page after a new release\nwindow.check_new_release = require('./_common/check_new_release').checkNewRelease;\n\nrequire('event-source-polyfill');\nrequire('./_common/lib/plugins');\n"],"sourceRoot":""}